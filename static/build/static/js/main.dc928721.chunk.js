(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(23),s=a.n(r),c=(a(70),a(71),a.p,a(72),a(8)),i=a(10),o=a(108),l=a(109),j=a(63),u=a(7),d=a(9),b=a.n(d),h=a(18),p=a(19),O=a.n(p),x="VOITURES_LIST_REQUEST",m="VOITURES_LIST_SUCCESS",f="VOITURES_LIST_FAIL",v="VOITURE_DETAILS_REQUEST",g="VOITURE_DETAILS_SUCCESS",y="VOITURE_DETAILS_FAIL",E="VOITURE_CREATE_REVIEW_REQUEST",S="VOITURE_CREATE_REVIEW_SUCCESS",I="VOITURE_CREATE_REVIEW_FAIL",_="VOITURE_CREATE_REVIEW_RESET",N="USER_LOGIN_REQUEST",C="USER_LOGIN_SUCCESS",R="USER_LOGIN_FAIL",w="USER_LOGOUT",T="USER_REGISTER_REQUEST",U="USER_REGISTER_SUCCESS",L="USER_REGISTER_FAIL",k="USER_DETAILS_REQUEST",A="USER_DETAILS_SUCCESS",D="USER_DETAILS_FAIL",G="USER_DETAILS_RESET",F="USER_LIST_REQUEST",P="USER_LIST_SUCCESS",V="USER_LIST_FAIL",z="USER_LIST_RESET",B="USER_DELETE_REQUEST",Q="USER_DELETE_SUCCESS",J="USER_DELETE_FAIL",W="USER_UPDATE_REQUEST",M="USER_UPDATE_SUCCESS",H="USER_UPDATE_FAIL",q="USER_UPDATE_RESET",K=function(){return function(e){localStorage.removeItem("userInfo"),e({type:w}),e({type:G}),e({type:z})}},X=a(115),Y=a(1),Z=function(e){var t=e.variant,a=e.children;return Object(Y.jsx)(X.a,{variant:t,children:a})};Z.defaultProps={variant:"info"};var $=Z,ee=a(107),te=function(){return Object(Y.jsx)(ee.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(Y.jsx)("span",{className:"sr-only",children:"Loading..."})})},ae=a(116);function ne(e){var t=e.value,a=e.text,n=e.color;return Object(Y.jsxs)("div",{className:"rating",children:[Object(Y.jsx)("span",{children:Object(Y.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Y.jsx)("span",{children:Object(Y.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Y.jsx)("span",{children:Object(Y.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Y.jsx)("span",{children:Object(Y.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Y.jsx)("span",{children:Object(Y.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Y.jsx)("span",{children:a&&a})]})}a(61);function re(e){var t=e.voiture;return Object(Y.jsxs)(ae.a,{className:"my-3 p-3",children:[Object(Y.jsx)(c.b,{to:"/voiture/".concat(t._id),children:Object(Y.jsx)("div",{className:"card_img",children:Object(Y.jsx)(ae.a.Img,{src:t.image,variant:"top",className:"img",alt:"car"})})}),Object(Y.jsxs)(ae.a.Body,{className:"mycard",children:[Object(Y.jsx)(c.b,{to:"/voiture/".concat(t._id),children:Object(Y.jsx)(ae.a.Title,{className:"name",children:Object(Y.jsx)("h5",{children:t.name})})}),Object(Y.jsx)(ae.a.Text,{className:"ml-5",children:Object(Y.jsx)(ne,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#ED2245"})}),Object(Y.jsxs)(ae.a.Text,{as:"div",className:"acc",children:["Acceleration: ",t.acceleration]}),Object(Y.jsx)(c.b,{to:"/voiture/".concat(t._id),children:Object(Y.jsx)("div",{className:"btn",children:"View Details"})})]})]})}a(98);function se(){return Object(Y.jsx)("div",{className:"banner",children:Object(Y.jsx)("div",{className:"banner_h",children:Object(Y.jsx)("div",{className:"banner_text",children:Object(Y.jsx)("h1",{className:"title_header",children:"choisir ton voiture"})})})})}function ce(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.voitureList})),a=t.loading,r=t.error,s=t.voitures;return Object(n.useEffect)((function(){e(function(){var e=Object(h.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:x}),e.next=4,O.a.get("/api/voitures");case 4:a=e.sent,n=a.data,t({type:m,payload:n.voitures}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:f,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),console.log(s),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(se,{}),Object(Y.jsxs)(o.a,{children:[Object(Y.jsx)("h1",{className:"mt-5 centerh",children:"Voitures"}),a?Object(Y.jsx)(te,{}):r?Object(Y.jsx)($,{variant:"danger",children:r}):Object(Y.jsx)(l.a,{children:s.map((function(e){return Object(Y.jsx)(j.a,{sm:12,md:6,lg:4,xl:4,children:Object(Y.jsx)(re,{voiture:e})},e._id)}))})]})]})}var ie=a(11),oe=a(113),le=a(114),je=a(112),ue=a(50);function de(e){e.history;var t=e.match,a=Object(n.useState)(0),r=Object(ie.a)(a,2),s=r[0],i=r[1],d=Object(n.useState)(""),p=Object(ie.a)(d,2),x=p[0],m=p[1],f=Object(u.b)(),N=Object(u.c)((function(e){return e.voitureDetails})),C=N.loading,R=N.error,w=N.voiture,T=Object(u.c)((function(e){return e.userLogin})).userInfo,U=Object(u.c)((function(e){return e.voitureReviewCreate})),L=U.success,k=U.loading,A=U.error;Object(n.useEffect)((function(){var e;L&&(i(0),m("")),w._id&&w._id===t.params.id||(f((e=t.params.id,function(){var t=Object(h.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:v}),t.next=4,O.a.get("/api/voitures/".concat(e));case 4:n=t.sent,r=n.data,a({type:g,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),f({type:_}))}),[f,t,L]);return Object(Y.jsxs)(o.a,{children:[Object(Y.jsx)(c.b,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),C?Object(Y.jsx)(te,{}):R?Object(Y.jsx)($,{variant:"danger",children:R}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(l.a,{children:[Object(Y.jsx)(j.a,{md:6,children:Object(Y.jsx)("div",{className:"col-dt",children:Object(Y.jsx)(oe.a,{children:Object(Y.jsx)(oe.a.Item,{children:Object(Y.jsx)("img",{className:"d-block w-100",src:w.image,alt:w.name})})})})}),Object(Y.jsx)(j.a,{md:4,children:Object(Y.jsxs)(le.a,{variant:"flush",children:[Object(Y.jsx)(le.a.Item,{children:Object(Y.jsx)("h3",{children:w.name})}),Object(Y.jsx)(le.a.Item,{children:Object(Y.jsx)(ne,{value:w.rating,text:"".concat(w.numReviews," reviews"),color:"#ED2245"})}),Object(Y.jsx)(le.a.Item,{children:Object(Y.jsxs)("h3",{children:["Acceleration: ",w.acceleration]})}),Object(Y.jsxs)(le.a.Item,{children:["Description: ",w.description]})]})})]}),Object(Y.jsx)(l.a,{children:Object(Y.jsxs)(j.a,{md:6,children:[Object(Y.jsx)("h2",{className:"mt-5",children:"Reviews"}),0===w.reviews.length&&Object(Y.jsx)($,{children:"No Reviews"}),Object(Y.jsxs)(le.a,{variant:"flush",children:[w.reviews.map((function(e){return Object(Y.jsxs)(le.a.Item,{children:[Object(Y.jsx)("strong",{children:e.name}),Object(Y.jsx)(ne,{value:e.rating,color:"#ED2245"}),Object(Y.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(Y.jsx)("p",{children:e.comment})]},e._id)})),Object(Y.jsxs)(le.a.Item,{children:[Object(Y.jsx)("h2",{children:"Write a Customer Review"}),L&&Object(Y.jsx)($,{variant:"success",children:"Review submitted successfully"}),k&&Object(Y.jsx)(te,{}),A&&Object(Y.jsx)($,{variant:"danger",children:A}),T?Object(Y.jsxs)(je.a,{onSubmit:function(e){var a,n;e.preventDefault(),f((a=t.params.id,n={rating:s,comment:x},function(){var e=Object(h.a)(b.a.mark((function e(t,r){var s,c,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:E}),s=r(),c=s.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,O.a.post("/api/voitures/".concat(a,"/reviews"),n,i);case 6:t({type:S}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(K()),t({type:I,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(Y.jsxs)(je.a.Group,{controlId:"rating",children:[Object(Y.jsx)(je.a.Label,{children:"Rating"}),Object(Y.jsxs)(je.a.Control,{as:"select",value:s,onChange:function(e){return i(e.target.value)},children:[Object(Y.jsx)("option",{value:"",children:"Select..."}),Object(Y.jsx)("option",{value:"1",children:"1 - Poor"}),Object(Y.jsx)("option",{value:"2",children:"2 - Fair"}),Object(Y.jsx)("option",{value:"3",children:"3 - Good"}),Object(Y.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(Y.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(Y.jsxs)(je.a.Group,{controlId:"comment",children:[Object(Y.jsx)(je.a.Label,{className:"mt-3",children:"Comment"}),Object(Y.jsx)(je.a.Control,{as:"textarea",row:"3",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(Y.jsx)(ue.a,{disabled:k,type:"submit",variant:"primary",className:"mt-3",children:"Submit"})]}):Object(Y.jsxs)($,{children:["Please ",Object(Y.jsx)(c.b,{to:"/login",children:"sign in"})," to write a review"," "]})]})]})]})})]}),Object(Y.jsx)(Y.Fragment,{})]})}var be=a(111);a(100);var he=function(){var e=Object(n.useState)(!1),t=Object(ie.a)(e,2),a=t[0],r=t[1],s=function(){return r(!a)},i=Object(u.b)(),o=Object(u.c)((function(e){return e.userLogin})).userInfo;return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("nav",{className:"navbar",children:Object(Y.jsxs)("div",{className:"nav-container",children:[Object(Y.jsx)(c.c,{exact:!0,to:"/",className:"nav-logo",children:"Voiture"}),Object(Y.jsxs)("ul",{className:a?"nav-menu active":"nav-menu",children:[Object(Y.jsx)("li",{className:"nav-item",children:Object(Y.jsx)(c.c,{exact:!0,to:"/",activeClassName:"active",className:"nav-links",onClick:s,children:"Home"})}),Object(Y.jsx)("li",{children:o?Object(Y.jsx)(be.a,{title:o.name,id:"username",children:Object(Y.jsx)(be.a.Item,{onClick:function(){i(K())},children:"Logout"})}):Object(Y.jsxs)(c.c,{to:"/login",activeClassName:"active",className:"nav-links",onClick:s,children:[Object(Y.jsx)("i",{className:"fas fa-user"})," Sign In"]})}),Object(Y.jsx)("li",{children:o&&o.isAdmin&&Object(Y.jsx)(be.a,{title:"Admin",id:"adminmenu",children:Object(Y.jsx)(c.b,{to:"/admin/userlist",activeClassName:"active",className:"nav-links",onClick:s,children:Object(Y.jsx)(be.a.Item,{children:"Users"})})})})]}),Object(Y.jsx)("div",{className:"nav-icon",onClick:s,children:Object(Y.jsx)("i",{className:a?"fas fa-times":"fas fa-bars"})})]})})})},pe=function(e){var t=e.children;return Object(Y.jsx)(o.a,{children:Object(Y.jsx)(l.a,{className:"justify-content-md-center myformlogin",children:Object(Y.jsx)(j.a,{xs:12,md:6,children:t})})})},Oe=function(e){var t=e.location,a=e.history,r=Object(n.useState)(""),s=Object(ie.a)(r,2),i=s[0],o=s[1],d=Object(n.useState)(""),p=Object(ie.a)(d,2),x=p[0],m=p[1],f=Object(u.b)(),v=Object(u.c)((function(e){return e.userLogin})),g=v.loading,y=v.error,E=v.userInfo,S=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){E&&a.push(S)}),[a,E,S]);return Object(Y.jsxs)(pe,{children:[Object(Y.jsx)("h1",{children:"Sign In"}),y&&Object(Y.jsx)($,{variant:"danger",children:y}),g&&Object(Y.jsx)(te,{}),Object(Y.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var a=Object(h.a)(b.a.mark((function a(n){var r,s,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:N}),r={headers:{"Content-Type":"application/json"}},a.next=5,O.a.post("/api/users/login",{email:e,password:t},r);case 5:s=a.sent,c=s.data,n({type:C,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:R,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(i,x))},children:[Object(Y.jsxs)(je.a.Group,{controlId:"email",children:[Object(Y.jsx)(je.a.Label,{children:"Email Address"}),Object(Y.jsx)(je.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Y.jsxs)(je.a.Group,{controlId:"password",children:[Object(Y.jsx)(je.a.Label,{children:"Password"}),Object(Y.jsx)(je.a.Control,{type:"password",placeholder:"Enter password",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(Y.jsx)(ue.a,{type:"submit",variant:"primary",className:"mt-3",children:"Sign In"})]}),Object(Y.jsx)(l.a,{className:"py-3",children:Object(Y.jsxs)(j.a,{children:["New Customer?"," ",Object(Y.jsx)(c.b,{to:S?"/register?redirect=".concat(S):"/register",children:"Register"})]})})]})},xe=function(e){var t=e.location,a=e.history,r=Object(n.useState)(""),s=Object(ie.a)(r,2),i=s[0],o=s[1],d=Object(n.useState)(""),p=Object(ie.a)(d,2),x=p[0],m=p[1],f=Object(n.useState)(""),v=Object(ie.a)(f,2),g=v[0],y=v[1],E=Object(n.useState)(""),S=Object(ie.a)(E,2),I=S[0],_=S[1],N=Object(n.useState)(null),R=Object(ie.a)(N,2),w=R[0],k=R[1],A=Object(u.b)(),D=Object(u.c)((function(e){return e.userRegister})),G=D.loading,F=D.error,P=D.userInfo,V=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){P&&a.push(V)}),[a,P,V]);return Object(Y.jsxs)(pe,{children:[Object(Y.jsx)("h1",{children:"Sign Up"}),w&&Object(Y.jsx)($,{variant:"danger",children:w}),F&&Object(Y.jsx)($,{variant:"danger",children:F}),G&&Object(Y.jsx)(te,{}),Object(Y.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),g!==I?k("Passwords do not match"):A(function(e,t,a){return function(){var n=Object(h.a)(b.a.mark((function n(r){var s,c,i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:T}),s={headers:{"Content-Type":"application/json"}},n.next=5,O.a.post("/api/users",{name:e,email:t,password:a},s);case 5:c=n.sent,i=c.data,r({type:U,payload:i}),r({type:C,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:L,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(i,x,g))},children:[Object(Y.jsxs)(je.a.Group,{controlId:"name",children:[Object(Y.jsx)(je.a.Label,{children:"Name"}),Object(Y.jsx)(je.a.Control,{type:"name",placeholder:"Enter name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Y.jsxs)(je.a.Group,{controlId:"email",children:[Object(Y.jsx)(je.a.Label,{children:"Email Address"}),Object(Y.jsx)(je.a.Control,{type:"email",placeholder:"Enter email",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(Y.jsxs)(je.a.Group,{controlId:"password",children:[Object(Y.jsx)(je.a.Label,{children:"Password"}),Object(Y.jsx)(je.a.Control,{type:"password",placeholder:"Enter password",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(Y.jsxs)(je.a.Group,{controlId:"confirmPassword",children:[Object(Y.jsx)(je.a.Label,{children:"Confirm Password"}),Object(Y.jsx)(je.a.Control,{type:"password",placeholder:"Confirm password",value:I,onChange:function(e){return _(e.target.value)}})]}),Object(Y.jsx)(ue.a,{type:"submit",variant:"primary",className:"mt-3",children:"Register"})]}),Object(Y.jsx)(l.a,{className:"py-3",children:Object(Y.jsxs)(j.a,{children:["Have an Account?"," ",Object(Y.jsx)(c.b,{to:V?"/login?redirect=".concat(V):"/login",children:"Login"})]})})]})},me=a(110),fe=function(e){var t=e.history,a=Object(u.b)(),r=Object(u.c)((function(e){return e.userList})),s=r.loading,i=r.error,o=r.users,l=Object(u.c)((function(e){return e.userLogin})).userInfo,j=Object(u.c)((function(e){return e.userDelete})).success;Object(n.useEffect)((function(){l&&l.isAdmin?a(function(){var e=Object(h.a)(b.a.mark((function e(t,a){var n,r,s,c,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F}),n=a(),r=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,O.a.get("/api/users",s);case 6:c=e.sent,i=c.data,t({type:P,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),"Not authorized, token failed"===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t(K()),t({type:V,payload:o});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,j,l]);var d=function(e){window.confirm("Are you sure")&&a(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(a,n){var r,s,c,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:B}),r=n(),s=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,O.a.delete("/api/users/".concat(e),c);case 6:a({type:Q}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(K()),a({type:J,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Y.jsxs)("div",{id:"users",children:[Object(Y.jsx)("h1",{children:"Users"}),s?Object(Y.jsx)(te,{}):i?Object(Y.jsx)($,{variant:"danger",children:i}):Object(Y.jsxs)(me.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"ID"}),Object(Y.jsx)("th",{children:"NAME"}),Object(Y.jsx)("th",{children:"EMAIL"}),Object(Y.jsx)("th",{children:"ADMIN"}),Object(Y.jsx)("th",{})]})}),Object(Y.jsx)("tbody",{children:o.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e._id}),Object(Y.jsx)("td",{children:e.name}),Object(Y.jsx)("td",{children:Object(Y.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(Y.jsx)("td",{children:e.isAdmin?Object(Y.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Y.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Y.jsxs)("td",{children:[Object(Y.jsx)(c.b,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(Y.jsx)(ue.a,{variant:"light",className:"btn-sm",children:Object(Y.jsx)("i",{className:"fas fa-edit"})})}),Object(Y.jsx)(ue.a,{variant:"danger",className:"btn-sm",onClick:function(){return d(e._id)},children:Object(Y.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},ve=function(e){var t=e.match,a=e.history,r=t.params.id,s=Object(n.useState)(""),i=Object(ie.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(""),d=Object(ie.a)(j,2),p=d[0],x=d[1],m=Object(n.useState)(!1),f=Object(ie.a)(m,2),v=f[0],g=f[1],y=Object(u.b)(),E=Object(u.c)((function(e){return e.userDetails})),S=E.loading,I=E.error,_=E.user,N=Object(u.c)((function(e){return e.userUpdate})),C=N.loading,R=N.error,w=N.success;Object(n.useEffect)((function(){var e;w?(y({type:q}),a.push("/admin/userlist")):_.name&&_._id===r?(l(_.name),x(_.email),g(_.isAdmin)):y((e=r,function(){var t=Object(h.a)(b.a.mark((function t(a,n){var r,s,c,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:k}),r=n(),s=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,O.a.get("/api/users/".concat(e),c);case 6:i=t.sent,o=i.data,a({type:A,payload:o}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(K()),a({type:D,payload:l});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[y,a,r,_,w]);return Object(Y.jsxs)("div",{className:"row-order",children:[Object(Y.jsx)(c.b,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(Y.jsxs)(pe,{children:[Object(Y.jsx)("h1",{children:"Edit User"}),C&&Object(Y.jsx)(te,{}),R&&Object(Y.jsx)($,{variant:"danger",children:R}),S?Object(Y.jsx)(te,{}):I?Object(Y.jsx)($,{variant:"danger",children:I}):Object(Y.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),y(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(a,n){var r,s,c,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:W}),r=n(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,O.a.put("/api/users/".concat(e._id),e,c);case 6:i=t.sent,o=i.data,a({type:M}),a({type:A,payload:o}),a({type:G}),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a(K()),a({type:H,payload:l});case 18:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:r,name:o,email:p,isAdmin:v}))},children:[Object(Y.jsxs)(je.a.Group,{controlId:"name",children:[Object(Y.jsx)(je.a.Label,{children:"Name"}),Object(Y.jsx)(je.a.Control,{type:"name",placeholder:"Enter name",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(Y.jsxs)(je.a.Group,{controlId:"email",children:[Object(Y.jsx)(je.a.Label,{children:"Email Address"}),Object(Y.jsx)(je.a.Control,{type:"email",placeholder:"Enter email",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(Y.jsx)(je.a.Group,{controlId:"isadmin",children:Object(Y.jsx)(je.a.Check,{type:"checkbox",label:"Is Admin",checked:v,onChange:function(e){return g(e.target.checked)}})}),Object(Y.jsx)(ue.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})},ge=a(44),ye=a(26);function Ee(){var e=Object(n.useState)([]),t=Object(ie.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)({}),c=Object(ie.a)(s,2),i=c[0],l=c[1],j=function(e){e.persist(),l((function(t){return Object(ye.a)(Object(ye.a)({},t),{},Object(ge.a)({},e.target.name,e.target.value))}))};return Object(Y.jsxs)(o.a,{children:[Object(Y.jsx)("h1",{className:"title-api",children:"API from  https://jsonplaceholder.typicode.com/"}),"  ",Object(Y.jsx)("br",{}),Object(Y.jsx)("button",{className:"btn-api",onClick:function(){fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(e){console.log(e),r(e)}))},children:"Fetch API"}),Object(Y.jsx)("br",{}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("ul",{children:a.map((function(e){return Object(Y.jsxs)("li",{children:[e.userId,",",e.title]},e.id)}))}),Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({title:i.title,body:i.body,userId:parseInt(i.userId)}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),console.log(i)},children:[Object(Y.jsx)("input",{type:"text",name:"title",placeholder:"title",onChange:j}),Object(Y.jsx)("br",{}),Object(Y.jsx)("input",{type:"text",name:"body",placeholder:"body",onChange:j}),Object(Y.jsx)("br",{}),Object(Y.jsx)("input",{type:"number",name:"userId",placeholder:"userId",onChange:j}),Object(Y.jsx)("br",{}),Object(Y.jsx)("input",{type:"submit",value:"Submit(Post)",onChange:j})]})})]})]})}var Se=function(){return Object(Y.jsxs)(c.a,{children:[Object(Y.jsx)(he,{}),Object(Y.jsx)(i.a,{path:"/",component:ce,exact:!0}),Object(Y.jsx)(i.a,{path:"/voiture/:id",component:de}),Object(Y.jsx)(i.a,{path:"/login",component:Oe}),Object(Y.jsx)(i.a,{path:"/admin/userlist",component:fe}),Object(Y.jsx)(i.a,{path:"/admin/user/:id/edit",component:ve}),Object(Y.jsx)(i.a,{path:"/register",component:xe}),Object(Y.jsx)(Ee,{}),Object(Y.jsx)("div",{className:"copyright",children:Object(Y.jsx)("p",{className:"p_copyright",children:"Copyright \xa9 voiture. All right reserved| application devaloped by Mabrouka khalfa"})})]})},Ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,117)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))},_e=a(35),Ne=a(64),Ce=a(65),Re=Object(_e.combineReducers)({voitureList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{voitures:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0,voitures:[]};case m:return{loading:!1,voitures:t.payload};case f:return{loading:!1,error:t.payload};default:return e}},voitureDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{voiture:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(ye.a)({loading:!0},e);case g:return{loading:!1,voiture:t.payload};case y:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case C:return{loading:!1,userInfo:t.payload};case R:return{loading:!1,error:t.payload};case w:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case U:return{loading:!1,userInfo:t.payload};case L:return{loading:!1,error:t.payload};case w:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(ye.a)(Object(ye.a)({},e),{},{loading:!0});case A:return{loading:!1,user:t.payload};case D:return{loading:!1,error:t.payload};case G:return{user:{}};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case P:return{loading:!1,users:t.payload};case V:return{loading:!1,error:t.payload};case z:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case Q:return{loading:!1,success:!0};case J:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case M:return{loading:!1,success:!0};case H:return{loading:!1,error:t.payload};case q:return{user:{}};default:return e}},voitureReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0};case S:return{loading:!1,success:!0};case I:return{loading:!1,error:t.payload};case _:return{};default:return e}}}),we={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Te=[Ne.a],Ue=Object(_e.createStore)(Re,we,Object(Ce.composeWithDevTools)(_e.applyMiddleware.apply(void 0,Te)));s.a.render(Object(Y.jsx)(u.a,{store:Ue,children:Object(Y.jsx)(Se,{})}),document.getElementById("root")),Ie()},61:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},98:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.dc928721.chunk.js.map